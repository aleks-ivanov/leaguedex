# Migration `20210127141542-add-likes-to-matchup`

This migration has been generated by Donny Roufs at 1/27/2021, 3:15:42 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."User_matchup_likes" (
"user_id" integer  NOT NULL ,
"matchup_id" integer  NOT NULL ,
PRIMARY KEY ("user_id","matchup_id"))

ALTER TABLE "public"."User_matchup_likes" ADD FOREIGN KEY ("user_id")REFERENCES "public"."User"("id") ON DELETE CASCADE ON UPDATE CASCADE

ALTER TABLE "public"."User_matchup_likes" ADD FOREIGN KEY ("matchup_id")REFERENCES "public"."Matchup"("id") ON DELETE CASCADE ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20210121101557-add-relations-to-champions-game-table..20210127141542-add-likes-to-matchup
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model User {
   id                  Int                   @id @default(autoincrement())
@@ -21,8 +21,9 @@
   active              Boolean               @default(false)
   createdAt           DateTime              @default(now())
   updatedAt           DateTime              @updatedAt
   User_reset_password User_reset_password[]
+  User_matchup_likes  User_matchup_likes[]
 }
 model Summoner {
   id         Int      @id @default(autoincrement())
@@ -77,8 +78,9 @@
   createdAt    DateTime @default(now())
   updatedAt    DateTime @updatedAt
   @@id([champion_id, opponent_id, lane, user_id])
+  User_matchup_likes User_matchup_likes[]
 }
 model Note {
   id          Int      @id @default(autoincrement())
@@ -132,8 +134,18 @@
   user      User     @relation(fields: [user_id], references: [id])
   createdAt DateTime @default(now())
 }
+model User_matchup_likes {
+  user       User    @relation(fields: [user_id], references: [id])
+  user_id    Int
+  matchup    Matchup @relation(fields: [matchup_id], references: [id])
+  matchup_id Int
+
+
+  @@id([user_id, matchup_id])
+}
+
 enum NotificationStatus {
   pending
   accepted
   declined
```


