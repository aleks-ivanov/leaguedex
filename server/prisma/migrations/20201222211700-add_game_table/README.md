# Migration `20201222211700-add_game_table`

This migration has been generated by Donny Roufs at 12/22/2020, 10:17:00 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."Game" (
"user_id" integer  NOT NULL ,
"game_id" text  NOT NULL ,
"region" text   ,
"lane" text   ,
"timestamp" integer   ,
"finished" boolean  NOT NULL DEFAULT false,
PRIMARY KEY ("user_id","game_id"))
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201119195852-user-can-have-many-summoners..20201222211700-add_game_table
--- datamodel.dml
+++ datamodel.dml
@@ -2,30 +2,31 @@
 // learn more about it in the docs: https://pris.ly/d/prisma-schema
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
-  provider = "prisma-client-js"
+  provider        = "prisma-client-js"
   previewFeatures = ["transactionApi"]
 }
 model User {
-  id                Int                @id @default(autoincrement())
-  email             String             @unique
-  username          String             @unique
-  password          String
-  permissions       Int                @default(1)
-  summoner          Summoner[]
-  matchups          Matchup[]
-  Note              Note[]
-  token             Token?
-  user_verification User_verification?
-  active            Boolean            @default(false)
-  createdAt         DateTime           @default(now())
-  updatedAt         DateTime           @updatedAt
+  id                  Int                   @id @default(autoincrement())
+  email               String                @unique
+  username            String                @unique
+  password            String
+  permissions         Int                   @default(1)
+  summoner            Summoner[]
+  matchups            Matchup[]
+  Note                Note[]
+  token               Token?
+  user_verification   User_verification?
+  active              Boolean               @default(false)
+  createdAt           DateTime              @default(now())
+  updatedAt           DateTime              @updatedAt
+  User_reset_password User_reset_password[]
 }
 model Summoner {
   id        Int      @id @default(autoincrement())
@@ -38,8 +39,19 @@
   createdAt DateTime @default(now())
   updatedAt DateTime @updatedAt
 }
+model Game {
+  user_id   Int
+  game_id   String
+  region    String?
+  lane      String?
+  timestamp Int?
+  finished  Boolean @default(false)
+
+  @@id([user_id, game_id])
+}
+
 model Matchup {
   id           Int      @unique @default(autoincrement())
   games_played Int      @default(0)
   games_won    Int?     @default(0)
@@ -109,5 +121,4 @@
   user_id   Int      @unique
   user      User     @relation(fields: [user_id], references: [id])
   createdAt DateTime @default(now())
 }
-
```


